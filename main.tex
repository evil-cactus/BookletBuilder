\documentclass[a5paper,8pt,twoside]{book}
\usepackage{geometry}
\usepackage{csvsimple}
\usepackage{graphicx}
\usepackage[latin9]{inputenc}
\geometry{a5paper, inner=2cm, outer=1.5cm}
\usepackage{xstring}
\usepackage[T1]{fontenc}
\usepackage{charter}
\usepackage{longtable}

%page numbering 
\usepackage{fancyhdr} %page numbering 
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[LE,RO]{\thepage}
\renewcommand{\headrulewidth}{0pt}

% Create new commands for table of contents
\newcommand*{\nsection}[2]{
	\section*{#1}
	\StrSubstitute{#2}{ }{_}[\Temp]
	\label{\Temp}
	\addcontentsline{toc}{section}{#1}
}

% Create new command to get page reference for each species for TOC
\newcommand*{\pagerefname}[1]{
	 \StrSubstitute{#1}{ }{_}[\TempName]
	 \pageref{\TempName} 
 }

% Document begins here
\begin{document}
	\input{booklet_title.tex}
	\newpage
	
	\section*{Species organised by plant family}

	% Table of contents
    \begin{longtable}{| p{.4\textwidth} | p{.18\textwidth} | p{.25\textwidth} | p{.05\textwidth} |} 
		\hline
		\footnotesize \bfseries Species &
        \footnotesize \bfseries Family &
        \footnotesize \bfseries Local name &
        \footnotesize \bfseries Page \\
		\hline
		\csvreader[head to column names, /csv/separator=semicolon]{species_list.csv}{}{
			\footnotesize{\Species} & 
            \footnotesize{\Family} & 
            \footnotesize{\LocalName} & \footnotesize{\pagerefname{\Species}} \\ \hline
		}
	\end{longtable}

	\newpage
	
	% Iterate over species_list.csv 
	\csvreader[head to column names, /csv/separator=semicolon]{species_list.csv}{}{
		\begin{minipage}[t][0.49\textheight]{\textwidth}
			\nsection{\emph{\Species} (\Family) \footnotesize{\emph{\Author}}}{\Species} 
			\vspace{-0.3cm}
			\Synonyms\\
			\begin{minipage}{0.5\textwidth}
				\includegraphics[height=0.42\textheight]{Images/\FileNamePhoto}
				%\includegraphics[height=\fig1width\textheight]{Images/\FileNamePhoto}
			\end{minipage}
			\hfill
			\begin{minipage}{0.5\textwidth}
				\comments\\
				\includegraphics[width=0.85\textwidth]{Images/\FileNameID}
			\end{minipage}
		\end{minipage}
		\vspace{0.5cm}
	}
\end{document}